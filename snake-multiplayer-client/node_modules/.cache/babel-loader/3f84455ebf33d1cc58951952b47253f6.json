{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\victo\\\\Desktop\\\\code\\\\Projects\\\\snake-multiplayer\\\\snake-multiplayer-client\\\\src\\\\pages\\\\Home\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { CirclePicker } from 'react-color';\nimport './Home.css';\nimport { useInterval } from '../InGame/useInterval';\nimport api from '../../services/api';\n\nconst Home = () => {\n  const map = api.get('map').then(response => response.data);\n\n  const generatePosition = () => [[Math.floor(Math.random() * map.size[0] / map.scale), Math.floor(Math.random() * map.size[1] / map.scale)]];\n\n  const [myColor, setMyColor] = useState('lightgrey');\n  const [colors, setColors] = useState();\n  const [myPosition, setMyPosition] = useState(generatePosition());\n  const history = useHistory(); // const goBack = () => history.goBack();\n\n  const toGame = () => history.push({\n    pathname: '/in-game',\n    state: {\n      map: map,\n      myPosition: myPosition,\n      myColor: myColor\n    }\n  });\n\n  useInterval(() => {\n    api.get('colors').then(response => {\n      setColors(response.data);\n    });\n  }, 1000);\n\n  const handleCreateSnake = data => {\n    api.post('snakes', data).then(response => {\n      if (response.data !== 0) {\n        alert('Oh no! looks like someone beat you to that color...');\n        return;\n      }\n\n      setMyPosition(data.position);\n      toGame();\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }\n  }, \"Welcome to Snake Multiplayer!\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 4\n    }\n  }, \"Pick your color:\"), /*#__PURE__*/React.createElement(CirclePicker, {\n    colors: colors,\n    color: myColor,\n    onChange: pickColor => setMyColor(pickColor.hex),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: myColor === 'lightgrey' ? 'inactive' : 'active',\n    style: {\n      backgroundColor: myColor\n    },\n    onClick: myColor === 'lightgrey' ? () => null : () => handleCreateSnake({\n      color: myColor,\n      position: myPosition,\n      points: 0\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    style: {\n      color: 'white'\n    },\n    className: \"fa fa-check fa-2x\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  })));\n};\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/victo/Desktop/code/Projects/snake-multiplayer/snake-multiplayer-client/src/pages/Home/index.js"],"names":["React","useState","useEffect","useHistory","CirclePicker","useInterval","api","Home","map","get","then","response","data","generatePosition","Math","floor","random","size","scale","myColor","setMyColor","colors","setColors","myPosition","setMyPosition","history","toGame","push","pathname","state","handleCreateSnake","post","alert","position","pickColor","hex","backgroundColor","color","points"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { CirclePicker } from 'react-color';\r\nimport './Home.css';\r\nimport { useInterval } from '../InGame/useInterval';\r\n\r\nimport api from '../../services/api';\r\n\r\nconst Home = () => {\r\n\r\n\tconst map = api.get('map').then((response) => response.data);\r\n\r\n\tconst generatePosition = () => [\r\n\t\t[\r\n\t\t\tMath.floor((Math.random() * map.size[0]) / map.scale),\r\n\t\t\tMath.floor((Math.random() * map.size[1]) / map.scale),\r\n\t\t],\r\n\t];\r\n\r\n\tconst [myColor, setMyColor] = useState('lightgrey');\r\n\tconst [colors, setColors] = useState();\r\n\tconst [myPosition, setMyPosition] = useState(generatePosition());\r\n\r\n\t\r\n\r\n\tconst history = useHistory();\r\n\t// const goBack = () => history.goBack();\r\n\tconst toGame = () =>\r\n\t\thistory.push({\r\n\t\t\tpathname: '/in-game',\r\n\t\t\tstate: { map: map, myPosition: myPosition, myColor: myColor },\r\n\t\t});\r\n\r\n\tuseInterval(() => {\r\n\t\tapi.get('colors').then((response) => {\r\n\t\t\tsetColors(response.data);\r\n\t\t});\r\n\t}, 1000);\r\n\r\n\tconst handleCreateSnake = (data) => {\r\n\t\tapi.post('snakes', data).then((response) => {\r\n\t\t\tif (response.data !== 0) {\r\n\t\t\t\talert('Oh no! looks like someone beat you to that color...');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tsetMyPosition(data.position);\r\n\t\t\ttoGame();\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className=\"main\">\r\n\t\t\t<h1>Welcome to Snake Multiplayer!</h1>\r\n\t\t\t<p>Pick your color:</p>\r\n\t\t\t<CirclePicker\r\n\t\t\t\tcolors={colors}\r\n\t\t\t\tcolor={myColor}\r\n\t\t\t\tonChange={(pickColor) => setMyColor(pickColor.hex)}\r\n\t\t\t/>\r\n\t\t\t<button\r\n\t\t\t\tclassName={myColor === 'lightgrey' ? 'inactive' : 'active'}\r\n\t\t\t\tstyle={{ backgroundColor: myColor }}\r\n\t\t\t\tonClick={\r\n\t\t\t\t\tmyColor === 'lightgrey'\r\n\t\t\t\t\t\t? () => null\r\n\t\t\t\t\t\t: () =>\r\n\t\t\t\t\t\t\t\thandleCreateSnake({\r\n\t\t\t\t\t\t\t\t\tcolor: myColor,\r\n\t\t\t\t\t\t\t\t\tposition: myPosition,\r\n\t\t\t\t\t\t\t\t\tpoints: 0,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<i\r\n\t\t\t\t\tstyle={{ color: 'white' }}\r\n\t\t\t\t\tclassName=\"fa fa-check fa-2x\"\r\n\t\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\t></i>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}